<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mar y Hierro 1K | Bio-Rendimiento y Estrategia Nutricional</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        :root {
            --color-bg: #F9FAFB;
            --color-surface: #FFFFFF;
            --color-text: #1F2937;
            --color-text-subtle: #6B7280;
            --color-accent-blue: #2563EB;
            --color-accent-pos: #059669;
            --color-accent-neg: #DC2626;
            --color-divider: #E5E7EB;
        }
        body {font-family:'Roboto',sans-serif;background:var(--color-bg);color:var(--color-text);margin:0;padding:30px;line-height:1.6;}
        .container {max-width:1200px;margin:auto;display:grid;gap:30px;}
        h1 {font-weight:700;font-size:2.5em;margin-bottom:5px;}
        h2 {color:var(--color-text-subtle);font-weight:400;font-size:1.1em;margin-top:0;}
        h3 {font-weight:600;font-size:1.3em;margin-bottom:15px;}
        .card {background:var(--color-surface);padding:25px;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.05);}
        .progress-header {text-align:left;padding:25px;margin-bottom:20px;}
        .progress-bar-wrapper {width:100%;height:8px;background:var(--color-divider);border-radius:4px;overflow:hidden;margin-top:15px;}
        .progress-bar {height:100%;background:var(--color-accent-blue);transition:width .5s ease-out;}
        .progress-details {display:flex;justify-content:space-between;margin-top:5px;font-size:.9em;color:var(--color-text-subtle);}
        .main-layout {display:grid;grid-template-columns:3fr 1fr;gap:30px;}
        .data-and-charts-area {display:grid;gap:30px;}
        .chart-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;}
        .chart-card {height:380px;position:relative;background:var(--color-surface);border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.05);}
        .chart-header {display:flex;align-items:center;justify-content:space-between;margin-bottom:5px;position:absolute;top:20px;left:20px;right:20px;z-index:10;}
        .canvas-wrapper {position:absolute;top:60px;left:20px;right:20px;bottom:20px;}
        canvas {width:100% !important;height:100% !important;}
        .variation-pill {font-size:.8em;padding:4px 8px;border-radius:12px;font-weight:700;opacity:.9;}
        .var-pos {background:var(--color-accent-pos);color:white;}
        .var-neg {background:var(--color-accent-neg);color:white;}
        .var-neutral {background:var(--color-divider);color:var(--color-text-subtle);}
        .current-data-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;}
        .data-point {text-align:center;padding:15px;border-left:3px solid var(--color-accent-blue);}
        .data-point strong {color:var(--color-text);font-weight:700;display:block;font-size:2em;}
        .sidebar-area {display:grid;gap:30px;}
        .about-card {text-align:center;padding:15px;border:1px solid var(--color-divider);}
        .about-image-wrapper {width:70px;height:70px;border-radius:50%;border:2px solid var(--color-accent-blue);margin:0 auto 10px;overflow:hidden;}
        .about-image-wrapper img {width:100%;height:100%;object-fit:cover;}
        .milestone-group {border-bottom:1px dashed var(--color-divider);margin-bottom:15px;padding-bottom:15px;}
        .milestone-group:last-child {border-bottom:none;margin-bottom:0;padding-bottom:0;}
        .milestone-group h4 {margin:0 0 10px;font-size:1em;color:var(--color-accent-blue);}
        .milestone-list li {display:flex;align-items:center;padding:6px 0;font-size:.85em;}
        .complete i {color:var(--color-accent-pos);}
        .incomplete i {color:var(--color-accent-neg);}
        .footer {margin-top:40px;padding:20px 0;border-top:1px solid var(--color-divider);text-align:center;font-size:.8em;color:var(--color-text-subtle);}

        @media (max-width:900px) {
            .main-layout {grid-template-columns:1fr;}
            .chart-card {height:320px;}
        }
    </style>
</head>
<body>
<div class="container">
    <header class="progress-header card">
        <h1>Mar y Hierro 1K</h1>
        <h2>Bio-Rendimiento y Estrategia Nutricional Personal (Día <span id="current-day">--</span>)</h2>
        <div class="progress-bar-wrapper"><div id="progress-bar-fill" class="progress-bar"></div></div>
        <div class="progress-details"><span>Día 1</span><span id="current-day-info"></span><span>Día 1000</span></div>
    </header>

    <div class="main-layout">
        <section class="data-and-charts-area">
            <div class="card">
                <h3><i class="fas fa-bullseye"></i> Datos Biométricos Recientes</h3>
                <div class="current-data-grid">
                    <div class="data-point"><span>Peso Total</span><strong>--</strong> Kg</div>
                    <div class="data-point"><span>Grasa Visceral</span><strong>--</strong> Nivel</div>
                    <div class="data-point"><span>Grasa Corporal</span><strong>--</strong> %</div>
                    <div class="data-point"><span>Músculo Esquelético</span><strong>--</strong> %</div>
                    <div class="data-point"><span>Edad Corporal</span><strong>--</strong> Años</div>
                    <div class="data-point"><span>Metabolismo Basal</span><strong>--</strong> Kcal</div>
                    <div class="data-point"><span>IMC</span><strong>--</strong></div>
                </div>
            </div>

            <section class="card">
                <h3><i class="fas fa-chart-area"></i> Evolución y Tendencia</h3>
                <div class="chart-grid">
                    <div class="chart-card">
                        <div class="chart-header"><h4>Peso Total (Kg)</h4><span id="var-peso" class="variation-pill var-neutral">Cargando...</span></div>
                        <div class="canvas-wrapper"><canvas id="pesoChart"></canvas></div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header"><h4>Grasa Visceral (Nivel)</h4><span id="var-grasaVisceral" class="variation-pill var-neutral">Cargando...</span></div>
                        <div class="canvas-wrapper"><canvas id="grasaVisceralChart"></canvas></div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header"><h4>Músculo/Grasa (%)</h4><span id="var-musculoEsqueletico" class="variation-pill var-neutral">Cargando...</span></div>
                        <div class="canvas-wrapper"><canvas id="musculoGrasaChart"></canvas></div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header"><h4>Metabolismo/Edad</h4><span id="var-mb" class="variation-pill var-neutral">Cargando...</span></div>
                        <div class="canvas-wrapper"><canvas id="metabolismoEdadChart"></canvas></div>
                    </div>
                </div>
            </section>
        </section>

        <aside class="sidebar-area">
            <div class="about-card">
                <div class="about-image-wrapper"><img src="tu_foto_de_perfil.jpg" alt="Miguel Siña" loading="lazy"></div>
                <div class="about-text">
                    <h3>Miguel Siña</h3>
                    <p style="color:var(--color-accent-blue);font-weight:500;">Estudiante y Atleta en Construcción</p>
                    <p>Soy Miguel Siña, estudiante de nutrición y atleta en construcción.

Mar y Hierro 1K es mi laboratorio personal. Aquí documento mi proceso de recomposición corporal de 1000 días, aplicando la ciencia nutricional y la fisiología del deporte en mi propio cuerpo.

A los 47 años, decidí que la teoría no sirve de nada si no se aplica. Me formo académicamente con un solo objetivo: dominar la evidencia para ayudar a quienes, como yo, buscan optimizar su salud. Hoy soy el sujeto de prueba sometiendo la teoría al estrés del hierro y al frío del mar.

Acompáñame a descubrir qué sucede cuando la ciencia se encuentra con la disciplina.</p>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-list-check"></i> Hitos de Graduación por Fase</h3>
                <div class="milestone-group">
                    <h4>Fase 1: Recomposición (Día 1 a 400)</h4>
                    <ul class="milestone-list">
                        <li class="complete"><i class="fas fa-check-circle"></i> Constancia: 3 Ciclos de 9 días perfectos seguidos.</li>
                        <li id="milestone-peso" class="incomplete"><i class="fas fa-times-circle"></i> Peso: < 92.0 kg (Actual: 100.6 kg)</li>
                        <li id="milestone-gv" class="incomplete"><i class="fas fa-times-circle"></i> Grasa Visceral: Nivel <= 14 (Actual: 18)</li>
                        <li class="incomplete"><i class="fas fa-times-circle"></i> Movilidad: Squat profundo sin dolor.</li>
                    </ul>
                </div>
                <div class="milestone-group">
                    <h4>Fase 2: Fuerza Absoluta (Día 401 a 650)</h4>
                    <ul class="milestone-list">
                        <li class="incomplete"><i class="fas fa-circle-notch"></i> Squat con Barra: 100 kg (1RM).</li>
                        <li class="incomplete"><i class="fas fa-circle-notch"></i> Press Banca: 100 kg (1RM).</li>
                        <li class="incomplete"><i class="fas fa-circle-notch"></i> Estructura: Hombros visibles y core de acero.</li>
                        <li class="incomplete"><i class="fas fa-circle-notch"></i> Grasa: Mantener < 20% mientras subes fuerza.</li>
                    </ul>
                </div>
                <div class="milestone-group">
                    <h4>Fase 3: Dominio Corporal (Día 651 a 850)</h4>
                    <ul class="milestone-list">
                        <li class="incomplete"><i class="fas fa-circle-notch"></i> Peso: ~82 - 85 kg.</li>
                        <li class="incomplete"><i class="fas fa-circle-notch"></i> Grasa Corporal: 15% - 18%.</li>
                        <li class="incomplete"><i class="fas fa-circle-notch"></i> Skills: 10 Pull-ups, 5 Pistol Squats, 1 Muscle-Up.</li>
                    </ul>
                </div>
            </div>
        </aside>
    </div>
</div>

<footer class="footer">
    <div style="max-width:1200px;margin:auto;">
        <div class="disclaimer">Descargo: Contenido personal, no sustituye asesoramiento médico profesional.</div>
        <span>© 2025 Mar y Hierro 1K | Miguel Siña</span>
    </div>
</footer>

<script>
    // ==================== ZONA DE DATOS (EDITAR AQUÍ) ====================
    const historicalData = [
        { day: 146, date: '25/11/2025', peso: 103.3, grasaVisceral: 19, musculoEsqueletico: 29.0, grasaCorporal: 36.3, edadCorporal: 72, imc: 34.5, mb: 2024 },
        { day: 157, date: '05/12/2025', peso: 100.6, grasaVisceral: 18, musculoEsqueletico: 29.7, grasaCorporal: 35.1, edadCorporal: 70, imc: 33.6, mb: 1990 }
        // Añade aquí tus nuevas mediciones
    ];
    const milestones = { peso: 92.0, grasaVisceral: 14 };
    // ====================================================================

    const getColor = (prop) => getComputedStyle(document.documentElement).getPropertyValue(prop).trim();

    function calculateVariation(curr, prev, key) {
        if (!prev) return {text:'N/A',class:'var-neutral'};
        const diff = curr - prev;
        const text = (diff>0?'+' :'') + diff.toFixed(1);
        let cls = 'var-neutral';
        if (['peso','grasaVisceral','grasaCorporal','imc','edadCorporal'].includes(key)) cls = diff <= 0 ? 'var-pos' : 'var-neg';
        else if (key === 'musculoEsqueletico') cls = diff >= 0 ? 'var-pos' : 'var-neg';
        else if (key === 'mb') cls = diff >= 0 ? 'var-pos' : (diff < -50 ? 'var-neg' : 'var-neutral');
        return {text, class:cls};
    }

    function loadDataAndDrawCharts() {
        const latest = historicalData[historicalData.length-1];
        const prev = historicalData[historicalData.length-2] || null;

        // Progreso
        document.getElementById('current-day').textContent = latest.day;
        document.getElementById('current-day-info').textContent = `Día ${latest.day} / 1000 (${latest.date})`;
        document.getElementById('progress-bar-fill').style.width = `${(latest.day/1000)*100}%`;

        // Métricas actuales
        const vals = [latest.peso.toFixed(1), latest.grasaVisceral, latest.grasaCorporal.toFixed(1),
                      latest.musculoEsqueletico.toFixed(1), latest.edadCorporal, latest.mb, latest.imc.toFixed(1)];
        document.querySelectorAll('.current-data-grid strong').forEach((el,i)=>el.textContent=vals[i]);

        // Hitos
        document.getElementById('milestone-peso').lastChild.textContent = ` Peso: < ${milestones.peso} kg (Actual: ${latest.peso.toFixed(1)} kg)`;
        document.getElementById('milestone-peso').className = latest.peso < milestones.peso ? 'complete' : 'incomplete';
        document.getElementById('milestone-peso').querySelector('i').className = latest.peso < milestones.peso ? 'fas fa-check-circle' : 'fas fa-times-circle';

        document.getElementById('milestone-gv').lastChild.textContent = ` Grasa Visceral: <= ${milestones.grasaVisceral} (Actual: ${latest.grasaVisceral})`;
        document.getElementById('milestone-gv').className = latest.grasaVisceral <= milestones.grasaVisceral ? 'complete' : 'incomplete';
        document.getElementById('milestone-gv').querySelector('i').className = latest.grasaVisceral <= milestones.grasaVisceral ? 'fas fa-check-circle' : 'fas fa-times-circle';

        // Variaciones
        const vars = {
            peso: calculateVariation(latest.peso, prev?.peso, 'peso'),
            grasaVisceral: calculateVariation(latest.grasaVisceral, prev?.grasaVisceral, 'grasaVisceral'),
            musculoEsqueletico: calculateVariation(latest.musculoEsqueletico, prev?.musculoEsqueletico, 'musculoEsqueletico'),
            mb: calculateVariation(latest.mb, prev?.mb, 'mb')
        };
        document.getElementById('var-peso').textContent = vars.peso.text + ' kg';
        document.getElementById('var-peso').className = 'variation-pill '+vars.peso.class;
        document.getElementById('var-grasaVisceral').textContent = vars.grasaVisceral.text + ' Nvl';
        document.getElementById('var-grasaVisceral').className = 'variation-pill '+vars.grasaVisceral.class;
        document.getElementById('var-musculoEsqueletico').textContent = vars.musculoEsqueletico.text + ' %';
        document.getElementById('var-musculoEsqueletico').className = 'variation-pill '+vars.musculoEsqueletico.class;
        document.getElementById('var-mb').textContent = vars.mb.text + ' Kcal';
        document.getElementById('var-mb').className = 'variation-pill '+vars.mb.class;

        drawCharts(historicalData);
    }

    function drawCharts(data) {
        ['pesoChart','grasaVisceralChart','musculoGrasaChart','metabolismoEdadChart'].forEach(id => Chart.getChart(id)?.destroy());

        const labels = data.map(d => `Día ${d.day}`);
        const blue = getColor('--color-accent-blue');
        const green = getColor('--color-accent-pos');
        const red = getColor('--color-accent-neg');

        const opts = {
            type:'line',
            options:{responsive:true,maintainAspectRatio:false,
                plugins:{legend:{labels:{color:getColor('--color-text')}},
                tooltip:{backgroundColor:'rgba(0,0,0,0.8)',titleColor:'#fff',bodyColor:'#fff'}},
                scales:{x:{ticks:{color:getColor('--color-text-subtle')},grid:{color:getColor('--color-divider')}},
                        y:{ticks:{color:getColor('--color-text-subtle')},grid:{color:getColor('--color-divider')}}}}
        };

        new Chart('pesoChart', {...opts, data:{labels, datasets:[{label:'Peso (kg)',data:data.map(d=>d.peso),borderColor:blue,backgroundColor:blue+'20',fill:true,tension:.4}]}});
        new Chart('grasaVisceralChart', {...opts, data:{labels, datasets:[{label:'Grasa Visceral',data:data.map(d=>d.grasaVisceral),borderColor:red,backgroundColor:red+'20',fill:true,tension:.4}]}});
        new Chart('musculoGrasaChart', {...opts, data:{labels, datasets:[
            {label:'Músculo (%)',data:data.map(d=>d.musculoEsqueletico),borderColor:green,backgroundColor:green+'20',fill:true},
            {label:'Grasa Corporal (%)',data:data.map(d=>d.grasaCorporal),borderColor:red,backgroundColor:red+'20',fill:true}
        ]}});
        new Chart('metabolismoEdadChart', {...opts, data:{labels, datasets:[
            {label:'Metabolismo Basal (kcal)',data:data.map(d=>d.mb),borderColor:green,backgroundColor:green+'20',fill:true},
            {label:'Edad Corporal',data:data.map(d=>d.edadCorporal),borderColor:blue,backgroundColor:blue+'20',fill:true}
        ]}});
    }

    loadDataAndDrawCharts();
</script>
</body>
</html>

